<!-- puzzleIceBreaker.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="iceBreakers.css">
  <title>Puzzle Ice Breaker</title>
</head>
<body>
     <!-- Word Search button -->
  <button onclick="openWordSearch()">Open Word Search</button>

  <!-- Popup Container for Word Search -->
  <div id="popup-container">
    <div id="word-search"></div>
    <button onclick="closeWordSearch()">Close</button>
  </div>
  <!-- Puzzle Ice Breaker content goes here -->
  <div id="puzzle-container"></div>

  <script>
    // JavaScript code specific to Puzzle Ice Breaker goes here
    // Number of rows and columns in the puzzle grid
    const numRows = 3;
    const numCols = 3;

    // Function to create puzzle pieces
    function createPuzzlePieces() {
      const container = document.getElementById('puzzle-container');

      for (let i = 0; i < numRows * numCols; i++) {
        const piece = document.createElement('div');
        piece.classList.add('puzzle-piece');
        piece.style.backgroundImage = `url('/home/natalie/Development/code/turubai/PA/Group 31 (2).png')`; // Replace 'puzzle-image.jpg' with your image URL
        piece.style.backgroundPosition = `-${i % numCols * 100}px -${Math.floor(i / numCols) * 100}px`;
        piece.setAttribute('draggable', true);

        // Add drag events
        piece.addEventListener('dragstart', dragStart);
        piece.addEventListener('dragover', dragOver);
        piece.addEventListener('drop', drop);

        container.appendChild(piece);
      }
    }

    let draggedElement = null;

    // Drag event handlers
    function dragStart(e) {
      draggedElement = e.target;
      e.dataTransfer.setData('text/plain', ''); // Set data to allow drag
    }

    function dragOver(e) {
      e.preventDefault();
    }

    function drop(e) {
      e.preventDefault();
      if (draggedElement) {
        const target = e.target;

        if (target.classList.contains('puzzle-piece')) {
          const parent = target.parentElement;
          const nextElement = target.nextSibling;

          if (nextElement) {
            parent.insertBefore(draggedElement, nextElement);
          } else {
            parent.appendChild(draggedElement);
          }
        } else if (target.id === 'puzzle-container') {
          const container = document.getElementById('puzzle-container');
          container.appendChild(draggedElement);
        }

        draggedElement = null;
      }
    }

    // Initialize the puzzle
    createPuzzlePieces();
  </script>
</body>
</html>
